<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <title>GanaJakten</title>
    <script>navigator.serviceWorker.register("./service-worker.js")</script> 
    <link rel="stylesheet" href="main.css?version=1.0">
    <link rel="manifest" href="./manifest.json?version=1.0">
</head>
<body>

    <div class="container">
        <div class="title">GANA QUIZ</div>
        <fieldset>
            <legend>Select a quiz:</legend>
            <div class="quiz">
                <div>
                    <input type="radio" id="eplQuiz" name="quiz" value="epl" checked />
                    <label for="eplQuiz" class="quizButton">EPL Quiz</label>
                </div>
                
                <div>
                    <input type="radio" id="swedenQuiz" name="quiz" value="sweden" />
                    <label for="swedenQuiz" class="quizButton">Sweden Quiz</label>
                </div>

                <div>

                    <input type="radio" id="randomQuiz" name="quiz" value="random" />
                    <label for="randomQuiz" class="quizButton">Random Quiz</label>
                </div>
            </div>
        </fieldset>

        <a href="#" class="start-button" id="startButton">Start Quiz</a>
    </div>

    <script>
        document.getElementById("startButton").addEventListener("click", function(event) {
            event.preventDefault(); 

            const selectedQuiz = document.querySelector('input[name="quiz"]:checked').value;

            localStorage.clear();
            sessionStorage.clear();

            if ('caches' in window) {
                caches.keys().then((names) => {
                    names.forEach((name) => caches.delete(name));
                });
            }

            document.body.classList.add('fade-out');

            setTimeout(() => {
                switch (selectedQuiz) {
                    case 'epl':
                        window.location.href = "epl.html";
                        break;
                    case 'sweden':
                        window.location.href = "sweden.html";
                        break;
                    case 'random':
                        window.location.href = "random.html";
                        break;
                    default:
                        window.location.href = "epl.html"; // Default fallback
                }
            }, 500); 
        });
    </script>
    
</body>
</html>